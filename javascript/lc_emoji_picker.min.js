/**
 * lc_emoji_picker.js - Fancy emoji picker for text inputs and textareas
 * Version: 1.0.4
 * Author: Luca Montanari aka LCweb
 * Website: https://lcweb.it
 * Licensed under the MIT license
 */


var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(f){return f.raw=f};$jscomp.createTemplateTagFirstArgWithRaw=function(f,l){f.raw=l;return f};$jscomp.arrayIteratorImpl=function(f){var l=0;return function(){return l<f.length?{done:!1,value:f[l++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.makeIterator=function(f){var l="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];return l?l.call(f):$jscomp.arrayIterator(f)};
(function(){var f=null,l=null,t=null,n=null,q={},u={"smileys--people":"\ud83d\ude00","animals--nature":"\ud83d\udc07","travel--places":"\ud83d\ude98",activities:"\u26bd",objects:"\ud83c\udfa7",symbols:"\ud83c\ude36",flags:"\ud83d\udea9"},v={picker_trigger:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M437.02,74.98C388.667,26.629,324.38,0,256,0S123.333,26.629,74.98,74.98C26.629,123.333,0,187.62,0,256s26.629,132.668,74.98,181.02C123.333,485.371,187.62,512,256,512s132.667-26.629,181.02-74.98C485.371,388.668,512,324.38,512,256S485.371,123.333,437.02,74.98z M256,472c-119.103,0-216-96.897-216-216S136.897,40,256,40s216,96.897,216,216S375.103,472,256,472z"/></g></g><g><g><path d="M368.993,285.776c-0.072,0.214-7.298,21.626-25.02,42.393C321.419,354.599,292.628,368,258.4,368c-34.475,0-64.195-13.561-88.333-40.303c-18.92-20.962-27.272-42.54-27.33-42.691l-37.475,13.99c0.42,1.122,10.533,27.792,34.013,54.273C171.022,389.074,212.215,408,258.4,408c46.412,0,86.904-19.076,117.099-55.166c22.318-26.675,31.165-53.55,31.531-54.681L368.993,285.776z"/></g></g><g><g><circle cx="168" cy="180.12" r="32"/></g></g><g><g><circle cx="344" cy="180.12" r="32"/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
trigger_position:{top:"5px",right:"5px"},target_r_padding:27,emoji_json_url:"https://raw.githubusercontent.com/LCweb-ita/LC-emoji-picker/master/emoji-list.min.json",selection_callback:null};document.addEventListener("click",function(h){var g=document.querySelector("#lc-emoji-picker.lcep-shown");if(!g||h.target.classList.contains("lcep-trigger"))return!0;for(var b=$jscomp.makeIterator(document.getElementsByClassName("lcep-trigger")),a=b.next();!a.done;a=b.next())if(a.value.contains(h.target))return!0;
g.contains(h.target)||h.target.classList.contains("lcep-shown")||(g.classList.remove("lcep-shown"),n=null);return!0});window.addEventListener("resize",function(h){h=document.querySelector("#lc-emoji-picker.lcep-shown");if(!h||l==window.innerWidth)return!0;h.classList.remove("lcep-shown");n=null;return!0});window.lc_emoji_picker=function(h,g){g=void 0===g?{}:g;this.attachTo=h;if(!this.attachTo)return console.error("You must provide object as a first argument");if("object"!=typeof g)return console.error("Options must be an object");
g=Object.assign({},v,g);this.init=function(){var b=this;t||(this.generate_style(),t=!0);if(!f)return f=!0,document.addEventListener("DOMContentLoaded",this.fetch_emoji_data()),!0;document.querySelectorAll(h).forEach(function(a){"TEXTAREA"!=a.tagName&&"INPUT"!=a.tagName||"INPUT"==a.tagName&&"text"!=a.getAttribute("type")||(b.append_emoji_picker(),b.wrap_element(a),document.querySelector(".lcep-search input").addEventListener("keyup",function(c){b.emoji_search(c)}))})};this.emoji_search=function(b){var a=
b.target.parentNode;b=b.target.value;var c=document.querySelectorAll("#lc-emoji-picker .lcep-all-categories li");if(2>b.length)for(b=$jscomp.makeIterator(c),c=b.next();!c.done;c=b.next())c.value.style.display="",a.classList.remove("lcep-searching");else{var d=$jscomp.makeIterator(c);for(c=d.next();!c.done;c=d.next())c=c.value,c.style.display=c.getAttribute("data-name").match(b)?"":"none";a.classList.add("lcep-searching")}};this.clear_search=function(){var b=document.querySelector(".lcep-search input");
b.value="";b.dispatchEvent(new Event("keyup"))};this.go_to_emoji_cat=function(b,a){var c=document.querySelector(".lcep-category[category-name='"+a+"']").offsetTop;document.querySelector(".lcep-all-categories").scrollTop=c-90;document.querySelector("li.lcep-active").classList.remove("lcep-active");b.classList.add("lcep-active")};this.cat_waypoints_check=function(){var b=document.querySelector(".lcep-all-categories").scrollTop,a=Object.keys(q);a.sort().reverse();var c=a[0];a=$jscomp.makeIterator(a);
for(var d=a.next();!d.done;d=a.next())if(d=d.value,b>=parseInt(d,10)){c=d;break}b=q[c];document.querySelector("li.lcep-active").classList.remove("lcep-active");document.querySelector(".lcep-categories li[data-index='"+b+"']").classList.add("lcep-active")};this.reset_picker=function(){document.querySelector(".lcep-search i").click();document.querySelector(".lcep-categories li").click()};this.show_picker=function(b){var a=document.getElementById("lc-emoji-picker");l=window.innerWidth;if(b==n)return a.classList.remove("lcep-shown"),
n=null,!1;this.reset_picker();n=b;b=a.offsetWidth;var c=a.offsetHeight,d=n.getBoundingClientRect(),e=parseInt(n.clientHeight,10);e=parseInt(d.y,10)+parseInt(window.pageYOffset,10)+e+5;d=parseInt(d.right,10)-b;0>d&&(d=0);700>window.innerWidth&&(d=Math.floor((window.innerWidth-b)/2));a.setAttribute("style",(e+c-document.documentElement.scrollTop<window.innerHeight?"top:"+e:"transform: translate3d(0, calc((100% + "+(n.offsetHeight+10)+"px) * -1), 0); top:"+e)+"px; left: "+d+"px;");a.classList.add("lcep-shown")};
this.emoji_select=function(b){var a=n.parentNode.querySelector("input, textarea"),c=b.getElementsByTagName("IMG").length?b.getElementsByTagName("IMG")[0].getAttribute("alt"):b.innerText;a.value+=c;"function"==typeof g.selection_callback&&g.selection_callback.call(this,b,a)};this.wrap_element=function(b){var a=this,c=Math.random().toString(36).substr(2,9),d="";Object.keys(g.trigger_position).some(function(m){d+=m+":"+g.trigger_position[m]+";"});var e=document.createElement("div");e.classList.add("lcep-el-wrap");
e.innerHTML='<span id="'+c+'" class="lcep-trigger" style="'+d+'" title="insert emoji">'+g.picker_trigger+"</span>";b.parentNode.insertBefore(e,b);e.appendChild(b);var p=document.getElementById(c);p.addEventListener("click",function(m){a.show_picker(p)})};this.fetch_emoji_data=function(){var b=this;fetch(g.emoji_json_url).then(function(a){return a.json()}).then(function(a){f=a;b.init()})};this.append_emoji_picker=function(){var b=this;if(document.getElementById("lc-emoji-picker"))return!0;var a='\n            <div id="lc-emoji-picker">\n                <div class="lcep-categories">%categories%\n                    <div class="lcep-search">\n                        <input placeholder="Search emoji" />\n                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.005 512.005" xml:space="preserve"><g><g><path d="M505.749,475.587l-145.6-145.6c28.203-34.837,45.184-79.104,45.184-127.317c0-111.744-90.923-202.667-202.667-202.667S0,90.925,0,202.669s90.923,202.667,202.667,202.667c48.213,0,92.48-16.981,127.317-45.184l145.6,145.6c4.16,4.16,9.621,6.251,15.083,6.251s10.923-2.091,15.083-6.251C514.091,497.411,514.091,483.928,505.749,475.587z M202.667,362.669c-88.235,0-160-71.765-160-160s71.765-160,160-160s160,71.765,160,160S290.901,362.669,202.667,362.669z"/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\n                        <i>\u00d7</i>\n                    </div>\n                </div>\n                <div>%pickerContainer%</div>\n            </div>',
c="",d="",e=0,p=f,m;for(m in p)if(p.hasOwnProperty(m)){e++;var r=m.split(" ").join("-").split("&").join("").toLowerCase(),w=p[m];c+='\n                    <li class="'+(1===e?"lcep-active":"")+'" data-index="'+r+'" title="'+m+'">\n                        <a href="javascript:void(0)">'+u[r]+"</a>\n                    </li>";d+='\n                    <ul class="lcep-category" category-name="'+r+'">\n                        <div class="lcep-container-title">'+m+'</div>\n                        <div class="lcep-grid">';
w.forEach(function(k){d+='\n                                <li data-name="'+k.description.toLowerCase()+'">\n                                    <a class="lcep-item" title="'+k.description+'" data-name="'+k.description.toLowerCase()+'" data-code="'+k.code+'" href="javascript:void(0)">'+k.emoji+"</a>\n                                </li>"});d+="\n                        </div>\n                    </ul>"}e='<div class="lcep-all-categories">%outerUL%</div>'.replace("%outerUL%",d);c="<ul>%categories%</ul>".replace("%categories%",
c);a=a.replace("%pickerContainer%",e).replace("%categories%",c);document.body.insertAdjacentHTML("beforeend",a);a={};c=$jscomp.makeIterator(document.querySelectorAll(".lcep-categories li"));for(e=c.next();!e.done;a={$jscomp$loop$prop$cat$10:a.$jscomp$loop$prop$cat$10},e=c.next())a.$jscomp$loop$prop$cat$10=e.value,a.$jscomp$loop$prop$cat$10.addEventListener("click",function(k){return function(x){b.go_to_emoji_cat(k.$jscomp$loop$prop$cat$10,k.$jscomp$loop$prop$cat$10.getAttribute("data-index"))}}(a));
a=$jscomp.makeIterator(document.querySelectorAll(".lcep-container-title"));for(c=a.next();!c.done;c=a.next())c=c.value,q[c.offsetTop-101]=c.parentNode.getAttribute("category-name");document.querySelector(".lcep-all-categories").addEventListener("scroll",function(){b.cat_waypoints_check()});document.querySelector(".lcep-search i").addEventListener("click",function(k){b.clear_search()});a={};c=$jscomp.makeIterator(document.querySelectorAll(".lcep-all-categories li"));for(e=c.next();!e.done;a={$jscomp$loop$prop$emoji$12:a.$jscomp$loop$prop$emoji$12},
e=c.next())a.$jscomp$loop$prop$emoji$12=e.value,a.$jscomp$loop$prop$emoji$12.addEventListener("click",function(k){return function(x){b.emoji_select(k.$jscomp$loop$prop$emoji$12)}}(a))};this.generate_style=function(){document.head.insertAdjacentHTML("beforeend","<style>\n.lcep-el-wrap {\n    position: relative;\n}\n.lcep-el-wrap > textarea,\n.lcep-el-wrap > input {\n    padding-right: "+g.target_r_padding+'px;\n}\n.lcep-trigger {\n    display: inline-block;\n    position: absolute;\n    width: 22px;\n    height: 22px;\n    cursor: pointer;\n}\n.lcep-trigger svg {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    border: 2px solid transparent;\n    opacity: 0.8;\n    fill: #282828;\n    transition: all .15s ease;\n}\n.lcep-trigger svg:hover {\n    fill: #202020;\n}\n#lc-emoji-picker,\n#lc-emoji-picker * {\n    box-sizing: border-box;\n}\n#lc-emoji-picker {\n    visibility: hidden;\n    z-index: -100;\n    opacity: 0;\n    position: absolute;\n    top: -9999px;\n    z-index: 999;\n    width: 280px;\n    min-height: 320px;\n    background: #fff;\n    box-shadow: 0px 2px 13px -2px rgba(0, 0, 0, 0.18);\n    border-radius: 6px;\n    overflow: hidden;\n    border: 1px solid #ccc;\n    transform: scale(0.85);\n    transition: opacity .2s ease, transform .2s ease;\n}\n#lc-emoji-picker.lcep-shown {\n    visibility: visible;\n    z-index: 999;\n    transform: none;\n    opacity: 1;\n\n}\n#lc-emoji-picker .lcep-all-categories {\n    height: 260px;\n    overflow-y: auto;\n    padding: 0 5px 20px 10px;\n}\n#lc-emoji-picker .lcep-category:not(:first-child) {\n    margin-top: 22px;\n}\n#lc-emoji-picker .lcep-container-title {\n    color: black;\n    margin: 10px 0;\n    text-indent: 10px;\n    font-size: 13px;\n    font-weight: bold;\n}\n#lc-emoji-picker * {\n    margin: 0;\n    padding: 0;\n    text-decoration: none;\n    color: #666;\n    font-family: sans-serif;\n    user-select: none;\n    -webkit-tap-highlight-color:  rgba(255, 255, 255, 0);\n}\n.lcep ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n}\n.lcep-grid {\n    display: flex;\n    flex-wrap: wrap;\n}\n.lcep-grid > li {\n    cursor: pointer;\n    flex: 0 0 calc(100% / 6);\n    max-width: calc(100% / 6);\n    height: 41px;\n    min-width: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: #fff;\n    border-radius: 2px;\n    transition: all .2s ease;\n}\n.lcep-grid > li:hover {\n    background: #99c9ef;\n}\n.lcep-grid > li > a {\n    display: block;\n    font-size: 21px;\n    margin: 0;\n    padding: 22px 0px;\n    line-height: 0;\n}\n.lcep-categories ul {\n    display: flex;\n    flex-wrap: wrap;\n    list-style: none;\n}\n.lcep-categories li {\n    transition: all .3s ease;\n    flex: 0 0 calc(100% / 7);\n    display: flex;\n    max-width: calc(100% / 7);\n}\n.lcep-categories li.lcep-active {\n    box-shadow: 0 -3px 0 #48a6f0 inset;\n}\n.lcep-categories a {\n    padding: 7px !important;\n    font-size: 19px;\n    height: 42px;\n    display: flex;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    filter: grayscale(100%) contrast(150%);\n}\n.lcep-categories a:before {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(255, 255, 255, .2);\n    cursor: pointer;\n    transition: background .25s ease;\n}\n.lcep-categories li:not(.lcep-active):hover a:before {\n    background: rgba(255, 255, 255, .4);\n}\n.lcep-search {\n    position: relative;\n    border-top: 1px solid #ddd;\n    padding: 10px 6px !important;\n}\n.lcep-search input {\n    width: 100%;\n    border: none;\n    padding: 8px 30px 8px 10px !important;\n    outline: none;\n    background: #fff;\n    font-size: 13px;\n    color: #616161;\n    border: 2px solid #ddd;\n    height: 30px;\n    border-radius: 25px;\n    user-select: auto !important;\n}\n.lcep-search svg,\n.lcep-search i {\n    width: 14px;\n    height: 14px;\n    position: absolute;\n    right: 16px;\n    top: 18px;\n    fill: #444;\n    cursor: pointer;\n}\n.lcep-search i {\n    color: #444;\n    font-size: 22px;\n    font-family: arial;\n    line-height: 14px;\n    transition: opacity .15s ease;\n}\n.lcep-search i:hover {\n    opacity: .8;\n}\n.lcep-searching svg,\n.lcep-search:not(.lcep-searching) i {\n    display: none;\n}\n#lc-emoji-picker img.emoji {\n    min-width: 23px;\n    height: auto !important;\n}\n</style>')};
this.init()}})();